
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!--page styling-->
<link rel="stylesheet" href="~/Content/MyContent/AdminStyling/ViewTraining.css" />

<!--Script-->
<script type="text/javascript" src="~/Scripts/MyScripts/AdminScripts/ViewTrainings.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">



<!--Dropdonwlist DIV-->
<div style="text-align:right; padding:10px;">
    <span>
        <select id="mySelect" class="custom-select" style="display: inline; margin-left:10px; font-size:20px; ">
            <option value="1" selected> All Trainings</option>
            <option value="2">Upcoming Trainings</option>
            <option value="3">Processed Trainings</option>
            <option value="4">Deleted Trainings</option>
        </select>
        <button class="infoBtn" id="trainingInfoBtn"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
    </span>
</div>

<div id="second-container">

    <!--All trainings-->
    <div id="allTrainingsDIV" class="content">
        <div id="headerAllTrainingDiv"><h2>All Trainings</h2></div>
        <div id="emptyListHeaderDiv" style="display:none;"></div>
        <div id="AllTrainingTableDIV" class="TableViewDiv" style="display:none;">
            <table id="AllTrainingTable" border="1" class="requestsTable">
                <thead>
                    <tr>
                        <th>Training Name</th>
                        <th>Department Favoured</th>
                        <th>Training Registration Deadline</th>
                        <th>Training Start Date</th>
                        <th>Employees enrolled</th>
                        <th>Prerequisites</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

    </div>

    <!--Upcoming Trainings-->
    <div id="upcomingTrainingsDIV" class="content">
        <h2>Upcoming Trainings</h2>
        <div id="upcomingTrainingEmptyListHeader" style="display:none;"></div>
        <div id="UpcomingTrainingTableDiv" class="TableView" style="display:none;">
            <table id="UpcomingTrainingTable" border="1" class="requestsTable">
                <thead>
                    <tr>
                        <th>Training Name</th>
                        <th>Number of applications</th>
                        <th>Number of Seats Available</th>
                        <th>Registration Deadline</th>
                        <th>Start Date</th>
                        <th>Training Duration(days)</th>
                        <th>Application List</th>
                        <th>Prerequisites</th>
                        <th>Automatic Processing</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <!--completed Trainings (Processed Trainings)-->
    <div id="completedTrainingsDIV" class="content">
        <h2>Processed Trainings</h2>
        <div id="completedTrainingEmptyListHeader" style="display:none;"></div>
        <div id="completedTrainingTableDiv" class="TableView" style="display:none;">
            <table id="completedTrainingTable" border="1" class="requestsTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Start Date</th>
                        <th>Duration(days)</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <!--deleted trainings-->
    <div id="deletedTrainingsDIV" class="content">
        <h2>Deleted Trainings</h2>
        <div id="deletedTrainingEmptyListHeader" style="display:none;"></div>
        <div id="deletedTrainingTableDiv" class="TableView" style="display:none;">
            <h5>A deleted Training does not have any employee application</h5>
            <hr />
            <table id="deletedTrainingTable" border="1" class="requestsTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Training Seats</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>


    <!--popup view Employees-->
    <div id="employeesInTrainingPopUp" class="content">
        <div id="popupHeaderDiv"></div>
        <div id="employeesTableDiv" class="TableView" style="display:none;">
            <hr />
            <table id="employeeTable" border="1" class="requestsTable">
                <thead>
                    <tr>
                        <th>Employee Name</th>
                        <th>Employee Email</th>
                        <th>Date Registered</th>
                        <th>Manager Status</th>
                        <th>Final Status</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
        <hr />
        <div id="closeBtnDiv">
            <button id="closePopUpEmployeeBtn">Close</button>
        </div>
    </div>

    <!--popup to view selected employees Details-->
    <div id="trainingDetailsDiv" class="content">
        <div id="trainingDetailsHeader"></div>
        <div id="selectedEmployeesTableDiv" class="TableView" style="display:none;">
            <hr />
            <table id="selectedEmployeeTable" border="1" class="requestsTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>PhoneNo</th>
                        <th>NIC</th>
                        <th>Manager Name</th>
                        <th>Manager Email</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
        <hr />
        <div id="actionButtonDivs">
            <button id="closeBtnSelectedEmployees">Close</button>
            <button id="exportToCvsBtn">Download in CVS</button>
        </div>
    </div>

    <!--popup view training prerequisite-->
    <div id="popupViewTrainingPrerequisiteDiv" class="content">
        <div id="headerTrainingPrerequisite"></div>
        <hr />
        <div id="popupTrainingPrerequisiteContentDiv"></div>
        <hr />
        <div><button id="closePopupTrainingPrerequisiteBtn">Close</button></div>
    </div>

    <!--Update training popup view-->
    <div id="updatePopupDiv" class="content">
        <div id="form-div">
            <form id="sampleForm">
                <h2>Update Training</h2>

                <label for="TrainingName">Training Name:</label>
                <input type="text" id="TrainingName" name="TrainingName" required>
                <br /> <br />

                <label for="TrainingCapacity">Training Capacity:</label>
                <input type="number" id="TrainingCapacity" name="TrainingCapacity" required>
                <br /><br />

                <label for="DeadlineRegistration">Deadline Registration:</label>
                <input type="datetime-local" id="DeadlineRegistration" name="DeadlineRegistration" required>
                <br /><br />

                <label for="StartingDate">Starting Date:</label>
                <input type="datetime-local" id="StartingDate" name="StartingDate" required>
                <br /><br />

                <label for="TrainingDuration">Training Duration(Days)</label>
                <input type="number" id="TrainingDuration" name="TrainingDuration" required />
                <br /><br />

                <label for="TrainingDescription">Training Description</label>
                <textarea id="TrainingDescription" name="TrainingDescription" rows="4" cols="50"></textarea>
                <br />
                <br />

                <button id="cancelUpdateBtn">Cancel</button>
                <button type="submit" id="updateBtn" onclick="validateForm()">Update Training</button>
            </form>
        </div>
    </div>

    <!--modal-->
    <div id="id01" class="w3-modal">
        <div class="w3-modal-content w3-animate-top w3-card-4">
            <header class="w3-container w3-blue">
                <span onclick="document.getElementById('id01').style.display='none'"
                      class="w3-button w3-display-topright">&times;</span>
                <h2>Display Training Options</h2>
            </header>
            <div class="w3-container">
                <h3>Options</h3>
                <hr />
                <ul>
                    <li><strong>All Trainings :</strong> All Trainings in the system </li>
                    <li><strong>Upcoming Trainings :</strong> Upcoming Trainings with Start Date in the future.</li>
                    <li><strong>Processed Trainings :</strong> Trainings that have been processed(Final Employees Selected)</li>
                    <li><strong>Deleted Trainings:</strong> Trainings that have been deleted (no employees enrolled)</li>
                </ul>
            </div>
        </div>
    </div>
</div>
